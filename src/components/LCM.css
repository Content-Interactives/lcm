@property --r {
    syntax: '<angle>';
    inherits: false;
    initial-value: 0deg;
}

/* Basic fade animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Basic animation classes */
.text-animation {
    animation: fadeIn 0.5s ease-out forwards;
}

.text-fade-out {
    animation: fadeIn 0.5s ease-out reverse forwards;
}

.fade-in {
    opacity: 1;
    transition: opacity 0.5s;
}

.fade-out {
    opacity: 0;
    transition: opacity 0.5s;
}

.fade-in-down {
    animation: fadeInDown 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
}

/* Button animations */
@keyframes shrinkButton {
    from {
        transform: scale(1);
        opacity: 1;
    }
    to {
        transform: scale(0);
        opacity: 0;
    }
}

@keyframes growButton {
    from {
        transform: scale(0);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

.shrink-animation {
    animation: shrinkButton 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.continue-animation {
    animation: growButton 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.text-grow-animation {
    animation: growButton 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Zoom and visual effects */
.zoom-in {
    transform: scale(1.25);
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 10;
}

.zoom-in-visual {
    transform: scale(2) translate(-10px, 30px);
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 1;
}

.zoom-out-visual {
    transform: scale(1) translate(0, -110px);
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 1;
}

.visual-clip {
    overflow: hidden;
    position: relative;
}

/* Equation states */
.equation-faded {
    opacity: 0.25 !important;
    transition: opacity 0.4s !important;
}

.equation-opaque {
    opacity: 1 !important;
    transition: opacity 0.4s !important;
}

/* Slide animations */
.slide-right {
    transform: translateX(100%);
    transition: transform 0.5s ease-out;
}

.shift-right {
    transform: translateX(-63px);
    transition: transform 0.5s ease-out;
}

@keyframes slideEqualSign {
    from {
        transform: translateX(0);
    }
    to {
        transform: translateX(25px);
    }
}

/* LCM specific animations */
.lcm-fade-out-down {
    animation: lcmFadeOutDown 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.lcm-fade-in {
    animation: fadeIn 0.5s ease-out 0.4s forwards;
}

@keyframes lcmFadeOutDown {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(20px);
    }
}

/* Number movement animations */
.number-move-left {
    animation: moveLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.number-move-right {
    animation: moveRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes moveLeft {
    from {
        transform: translate(0, 0);
    }
    to {
        transform: translate(-70px, -60px);
    }
}

@keyframes moveRight {
    from {
        transform: translate(0, 0);
    }
    to {
        transform: translate(70px, -60px);
    }
}

/* Line animations */
.line-appear {
    animation: lineAppear 0.4s ease-out forwards;
}

.line-move-left {
    animation: lineMoveLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

.line-move-right {
    animation: lineMoveRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

.line-move-left-right {
    animation: lineMoveLeftRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

.line-move-right-right {
    animation: lineMoveRightRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

@keyframes lineMoveLeft {
    0% {
        transform: translate(-70px, -60px) translateX(-50%) skewX(-30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(-70px, -60px) translateX(-50%) skewX(-30deg);
        height: 38px;
        opacity: 1;
    }
}

@keyframes lineMoveRight {
    0% {
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
        height: 38px;
        opacity: 1;
    }
}

@keyframes lineMoveLeftRight {
    0% {
        transform: translate(-70px, -60px) translateX(-50%) skewX(30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(-70px, -60px) translateX(-50%) skewX(30deg);
        height: 38px;
        opacity: 1;
    }
}

@keyframes lineMoveRightRight {
    0% {
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
        height: 38px;
        opacity: 1;
    }
}

@keyframes lineAppear {
    from {
        height: 0;
        opacity: 0;
    }
    to {
        height: 38px;
        opacity: 1;
    }
}

/* Glow Effect Styles */
.glow-button { 
    position: absolute;
    bottom: 1rem;
    right: 1rem;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3;
    transition: all .3s ease;
    padding: 7px;
}

.glow-button::before {
    content: "";
    display: block;
    position: absolute;
    background: #fff;
    inset: 2px;
    border-radius: 4px;
    z-index: -2;
}

.simple-glow { 
    background: conic-gradient(
        from var(--r),
        transparent 0%,
        rgb(0, 255, 132) 2%,
        rgb(0, 214, 111) 8%,
        rgb(0, 174, 90) 12%,
        rgb(0, 133, 69) 14%,
        transparent 15%
    );
    animation: rotating 3s linear infinite;
    transition: animation 0.3s ease;
}

.simple-glow.stopped {
    animation: none;
    background: none;
}

@keyframes rotating {
    0% {
        --r: 0deg;
    }
    100% {
        --r: 360deg;
    }
}

.explore-button {
    background-color: #008545;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 0.375rem 0.75rem;
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s;
}

.explore-button:hover {
    background-color: #00783E;
}

/* Prime number movement animations */
.prime-move-left-1 {
    animation: primeMoveLeft1 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-move-left-2 {
    animation: primeMoveLeft2 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-move-right-1 {
    animation: primeMoveRight1 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-move-right-2 {
    animation: primeMoveRight2 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-under-6-1 {
    animation: primeUnder6_1 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-under-6-2 {
    animation: primeUnder6_2 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-under-9-1 {
    animation: primeUnder9_1 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-under-9-2 {
    animation: primeUnder9_2 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes primeMoveLeft1 {
    0% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 0;
    }
    100% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 1;
    }
}

@keyframes primeMoveLeft2 {
    0% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 0;
    }
    100% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 1;
    }
}

@keyframes primeMoveRight1 {
    0% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 1;
    }
}

@keyframes primeMoveRight2 {
    0% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 1;
    }
}

@keyframes primeUnder6_1 {
    0% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 0;
    }
    100% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 1;
    }
}

@keyframes primeUnder6_2 {
    0% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 0;
    }
    100% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 1;
    }
}

@keyframes primeUnder9_1 {
    0% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 1;
    }
}

@keyframes primeUnder9_2 {
    0% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 1;
    }
}

/* Line under animations */
.line-under-6-left {
    animation: lineUnder6Left 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

.line-under-6-right {
    animation: lineUnder6Right 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

.line-under-8-left {
    animation: lineUnder8Left 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

.line-under-8-right {
    animation: lineUnder8Right 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

.line-under-9-left {
    animation: lineUnder9Left 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

.line-under-9-right {
    animation: lineUnder9Right 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    transform-origin: top center;
}

@keyframes lineUnder6Left {
    0% {
        transform: translate(-70px, -60px) translateX(-50%) skewX(-30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(-70px, -60px) translateX(-50%) skewX(-30deg);
        height: 38px;
        opacity: 1;
    }
}

@keyframes lineUnder6Right {
    0% {
        transform: translate(-70px, -60px) translateX(-50%) skewX(30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(-70px, -60px) translateX(-50%) skewX(30deg);
        height: 38px;
        opacity: 1;
    }
}

@keyframes lineUnder8Left {
    0% {
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
        height: 38px;
        opacity: 1;
    }
}

@keyframes lineUnder8Right {
    0% {
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
        height: 38px;
        opacity: 1;
    }
}

@keyframes lineUnder9Left {
    0% {
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
        height: 38px;
        opacity: 1;
    }
}

@keyframes lineUnder9Right {
    0% {
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
        height: 0;
        opacity: 0;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
        height: 38px;
        opacity: 1;
    }
}

/* Fade non-primes animation */
.fade-non-primes {
    animation: fadeNonPrimes 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes fadeNonPrimes {
    0% {
        opacity: 1;
    }
    100% {
        opacity: 0.5;
    }
}

/* Prime movement without opacity */
.prime-move-left-2-no-opacity {
    animation: primeMoveLeft2NoOpacity 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-move-right-2-no-opacity {
    animation: primeMoveRight2NoOpacity 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes primeMoveLeft2NoOpacity {
    0% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 0;
    }
    99% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 1;
    }
    100% {
        transform: translate(-70px, -60px) translateX(-50%);
        opacity: 0.5;
    }
}

@keyframes primeMoveRight2NoOpacity {
    0% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 0;
    }
    99% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 1;
    }
    100% {
        transform: translate(70px, -60px) translateX(-50%);
        opacity: 0.5;
    }
}

/* Prime grouping and movement animations */
.first-primes-move-down {
    animation: firstPrimesMoveDown 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.first-primes-move-down-left {
    animation: firstPrimesMoveDownLeft 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.first-primes-move-down-right {
    animation: firstPrimesMoveDownRight 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.second-primes-move-up-left {
    animation: secondPrimesMoveUpLeft 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.second-primes-move-up-right {
    animation: secondPrimesMoveUpRight 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.non-primes-fade-out {
    animation: nonPrimesFadeOut 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.non-primes-fade-out-left {
    animation: nonPrimesFadeOutLeft 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.non-primes-fade-out-right {
    animation: nonPrimesFadeOutRight 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

@keyframes firstPrimesMoveDownLeft {
    0% {
        transform: translate(-70px, -60px) translateX(-50%);
    }
    100% {
        transform: translate(-90px, -48px) translateX(-150%);
    }
}

@keyframes firstPrimesMoveDownRight {
    0% {
        transform: translate(70px, -60px) translateX(-50%);
    }
    100% {
        transform: translate(50px, -48px) translateX(-150%);
    }
}

@keyframes secondPrimesMoveUpLeft {
    0% {
        transform: translate(-70px, -60px) translateX(-50%);
    }
    100% {
        transform: translate(-520%, -400%);
    }
}

@keyframes secondPrimesMoveUpRight {
    0% {
        transform: translate(70px, -60px) translateX(-50%);
    }
    100% {
        transform: translate(400%, -400%);
    }
}

@keyframes nonPrimesFadeOut {
    0% {
        opacity: 0.5;
    }
    100% {
        opacity: 0;
    }
}

@keyframes nonPrimesFadeOutLeft {
    0% {
        opacity: 0.5;
        transform: translate(-70px, -60px) translateX(-50%);
    }
    100% {
        opacity: 0;
        transform: translate(-70px, -60px) translateX(-50%);
    }
}

@keyframes nonPrimesFadeOutRight {
    0% {
        opacity: 0.5;
        transform: translate(70px, -60px) translateX(-50%);
    }
    100% {
        opacity: 0;
        transform: translate(70px, -60px) translateX(-50%);
    }
}

/* Lines shrink animations */
.lines-shrink {
    animation: linesShrinkAnimation 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.lines-shrink-appear {
    animation: linesShrinkAppear 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.lines-shrink-move-left {
    animation: linesShrinkMoveLeft 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.lines-shrink-move-left-right {
    animation: linesShrinkMoveLeftRight 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.lines-shrink-move-right {
    animation: linesShrinkMoveRight 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.lines-shrink-move-right-right {
    animation: linesShrinkMoveRightRight 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.lines-shrink-under-6-right {
    animation: linesShrinkUnder6Right 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.lines-shrink-under-6-left {
    animation: linesShrinkUnder6Left 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.lines-shrink-under-9-left {
    animation: linesShrinkUnder9Left 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.lines-shrink-under-9-right {
    animation: linesShrinkUnder9Right 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

@keyframes linesShrinkAnimation {
    0% {
        height: 38px;
        opacity: 1;
    }
    100% {
        height: 0;
        opacity: 0;
    }
}

@keyframes linesShrinkAppear {
    0% {
        height: 38px;
        opacity: 1;
    }
    100% {
        height: 0;
        opacity: 0;
    }
}

@keyframes linesShrinkMoveLeft {
    0% {
        height: 38px;
        opacity: 1;
        transform: translate(-70px, -60px) translateX(-50%) skewX(-30deg);
    }
    100% {
        height: 0;
        opacity: 0;
        transform: translate(-70px, -60px) translateX(-50%) skewX(-30deg);
    }
}

@keyframes linesShrinkMoveLeftRight {
    0% {
        height: 38px;
        opacity: 1;
        transform: translate(-70px, -60px) translateX(-50%) skewX(30deg);
    }
    100% {
        height: 0;
        opacity: 0;
        transform: translate(-70px, -60px) translateX(-50%) skewX(30deg);
    }
}

@keyframes linesShrinkMoveRight {
    0% {
        height: 38px;
        opacity: 1;
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
    }
    100% {
        height: 0;
        opacity: 0;
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
    }
}

@keyframes linesShrinkMoveRightRight {
    0% {
        height: 38px;
        opacity: 1;
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
    }
    100% {
        height: 0;
        opacity: 0;
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
    }
}

@keyframes linesShrinkUnder6Right {
    0% {
        height: 38px;
        opacity: 1;
        transform: translate(-70px, -60px) translateX(-50%) skewX(30deg);
    }
}

@keyframes linesShrinkUnder6Left {
    0% {
        height: 38px;
        opacity: 1;
        transform: translate(-70px, -60px) translateX(-50%) skewX(-30deg);
    }
    100% {
        height: 0;
        opacity: 0;
        transform: translate(-70px, -60px) translateX(-50%) skewX(-30deg);
    }
}

@keyframes linesShrinkUnder6Right {
    0% {
        height: 38px;
        opacity: 1;
        transform: translate(-70px, -60px) translateX(-50%) skewX(30deg);
    }
    100% {
        height: 0;
        opacity: 0;
        transform: translate(-70px, -60px) translateX(-50%) skewX(30deg);
    }
}

@keyframes linesShrinkUnder9Left {
    0% {
        height: 38px;
        opacity: 1;
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
    }
    100% {
        height: 0;
        opacity: 0;
        transform: translate(70px, -60px) translateX(-50%) skewX(-30deg);
    }
}

@keyframes linesShrinkUnder9Right {
    0% {
        height: 38px;
        opacity: 1;
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
    }
    100% {
        height: 0;
        opacity: 0;
        transform: translate(70px, -60px) translateX(-50%) skewX(30deg);
    }
}

/* Main numbers movement animations */
.main-numbers-move-down {
    animation: mainNumbersMoveDown 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.main-numbers-move-down-left {
    animation: mainNumbersMoveDownLeft 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.main-numbers-move-down-right {
    animation: mainNumbersMoveDownRight 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

@keyframes mainNumbersMoveDown {
    from {
        transform: translate(0, 0);
    }
    to {
        transform: translate(0, 20px);
    }
}

@keyframes mainNumbersMoveDownLeft {
    from {
        transform: translate(-70px, -60px);
    }
    to {
        transform: translate(-70px, -30px);
    }
}

@keyframes mainNumbersMoveDownRight {
    from {
        transform: translate(70px, -60px);
    }
    to {
        transform: translate(70px, -30px);
    }
}

/* Multiplication symbols animations */
.multiplication-symbols-fade-in {
    animation: multiplicationSymbolsFadeIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.multiplication-symbols-fade-out {
    animation: multiplicationSymbolsFadeOut 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes multiplicationSymbolsFadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes multiplicationSymbolsFadeOut {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

/* Separating lines animations */
.separating-lines-fade-in {
    animation: separatingLinesFadeIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.separating-lines-fade-out {
    animation: separatingLinesFadeOut 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.separating-lines-fade-in-left {
    animation: separatingLinesFadeInLeft 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.separating-lines-fade-out-left {
    animation: separatingLinesFadeOutLeft 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.separating-lines-fade-in-right {
    animation: separatingLinesFadeInRight 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.separating-lines-fade-out-right {
    animation: separatingLinesFadeOutRight 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.separating-lines-fade-in-right-side-left {
    animation: separatingLinesFadeInRightSideLeft 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.separating-lines-fade-out-right-side-left {
    animation: separatingLinesFadeOutRightSideLeft 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.separating-lines-fade-in-right-side-right {
    animation: separatingLinesFadeInRightSideRight 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.separating-lines-fade-out-right-side-right {
    animation: separatingLinesFadeOutRightSideRight 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes separatingLinesFadeIn {
    from {
        height: 0;
        opacity: 0;
    }
    to {
        height: 20px;
        opacity: 1;
    }
}

@keyframes separatingLinesFadeInLeft {
    from {
        height: 0;
        opacity: 0;
        transform: translateX(-25px) skewX(30deg);
    }
    to {
        height: 38px;
        opacity: 1;
        transform: translate(-11px, 10px) skewX(30deg);
    }
}

@keyframes separatingLinesFadeInRight {
    from {
        height: 0;
        opacity: 0;
        transform: translateX(-45px) skewX(-30deg);
    }
    to {
        height: 38px;
        opacity: 1;
        transform: translate(-58px, 10px) skewX(-30deg);
    }
}

@keyframes separatingLinesFadeInRightSideLeft {
    from {
        height: 0;
        opacity: 0;
        transform: translate(-11px, 10px) skewX(30deg);
    }
    to {
        height: 38px;
        opacity: 1;
        transform: translate(-11px, 10px) skewX(30deg);
    }
}

@keyframes separatingLinesFadeInRightSideRight {
    from {
        height: 0;
        opacity: 0;
        transform: translate(44px, 10px) skewX(-30deg);
    }
    to {
        height: 38px;
        opacity: 1;
        transform: translate(44px, 10px) skewX(-30deg);
    }
}

@keyframes separatingLinesFadeOut {
    from {
        height: 20px;
        opacity: 1;
    }
    to {
        height: 0;
        opacity: 0;
    }
}

@keyframes separatingLinesFadeOutLeft {
    from {
        height: 38px;
        opacity: 1;
        transform: translate(-11px, 10px) skewX(30deg);
    }
    to {
        height: 0;
        opacity: 0;
        transform: translate(-11px, 10px) skewX(30deg);
    }
}

@keyframes separatingLinesFadeOutRight {
    from {
        height: 38px;
        opacity: 1;
        transform: translate(-58px, 10px) skewX(-30deg);
    }
    to {
        height: 0;
        opacity: 0;
        transform: translate(-58px, 10px) skewX(-30deg);
    }
}

@keyframes separatingLinesFadeOutRightSideLeft {
    from {
        height: 38px;
        opacity: 1;
        transform: translate(-11px, 10px) skewX(30deg);
    }
    to {
        height: 0;
        opacity: 0;
        transform: translate(-11px, 10px) skewX(30deg);
    }
}

@keyframes separatingLinesFadeOutRightSideRight {
    from {
        height: 38px;
        opacity: 1;
        transform: translate(44px, 10px) skewX(-30deg);
    }
    to {
        height: 0;
        opacity: 0;
        transform: translate(44px, 10px) skewX(-30deg);
    }
}

/* Power expressions animations */
.power-expressions-fade-in {
    animation: powerExpressionsFadeIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.power-expressions-fade-out {
    animation: powerExpressionsFadeOut 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes powerExpressionsFadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes powerExpressionsFadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-10px);
    }
}

/* Prime factor fade out animations */
.prime-fade-out-left-1 {
    animation: primeFadeOutLeft1 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-fade-out-left-2 {
    animation: primeFadeOutLeft2 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-fade-out-left-3 {
    animation: primeFadeOutLeft3 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-fade-out-right-1 {
    animation: primeFadeOutRight1 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-fade-out-right-2 {
    animation: primeFadeOutRight2 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.prime-fade-out-right-3 {
    animation: primeFadeOutRight3 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes primeFadeOutLeft1 {
    0% {
        opacity: 1;
        transform: translate(-90px, -48px) translateX(-150%);
    }
    100% {
        opacity: 0;
        transform: translate(-90px, -48px) translateX(-150%);
    }
}

@keyframes primeFadeOutLeft2 {
    0% {
        opacity: 1;
        transform: translate(-520%, -400%);
    }
    100% {
        opacity: 0;
        transform: translate(-520%, -400%);
    }
}

@keyframes primeFadeOutLeft3 {
    0% {
        opacity: 1;
        transform: translate(-520%, -400%);
    }
    100% {
        opacity: 0;
        transform: translate(-520%, -400%);
    }
}

@keyframes primeFadeOutRight1 {
    0% {
        opacity: 1;
        transform: translate(50px, -48px) translateX(-150%);
    }
    100% {
        opacity: 0;
        transform: translate(50px, -48px) translateX(-150%);
    }
}

@keyframes primeFadeOutRight2 {
    0% {
        opacity: 1;
        transform: translate(400%, -400%);
    }
    100% {
        opacity: 0;
        transform: translate(400%, -400%);
    }
}

@keyframes primeFadeOutRight3 {
    0% {
        opacity: 1;
        transform: translate(400%, -400%);
    }
    100% {
        opacity: 0;
        transform: translate(400%, -400%);
    }
}

/* Exponent and final multiplication animations */
.exponent-move-up-right {
    animation: exponentMoveUpRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.exponent-move-up-left {
    animation: exponentMoveUpLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.final-multiplication-fade-in {
    animation: finalMultiplicationFadeIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.lcm-text-fade-in {
    animation: lcmTextFadeIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes exponentMoveUpRight {
    from {
        transform: translate(0px, 0px);
    }
    to {
        transform: translate(140px, -60px);
    }
}

@keyframes exponentMoveUpLeft {
    from {
        transform: translate(0px, 0px);
    }
    to {
        transform: translate(-70px, -60px);
    }
}

@keyframes finalMultiplicationFadeIn {
    from {
        opacity: 0;
        transform: translate(-7px,-60px);
    }
    to {
        opacity: 1;
        transform: translate(-7px, -60px);
    }
}

@keyframes lcmTextFadeIn {
    from {
        opacity: 0;
        transform: translate(-123px, -110px);
    }
    to {
        opacity: 1;
        transform: translate(-123px, -110px);
    }
}

/* Exponents jump out animations */
.exponents-jump-out-left {
    animation: exponentsJumpOutLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.exponents-jump-out-right {
    animation: exponentsJumpOutRight 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes exponentsJumpOutLeft {
    0% {
        opacity: 1;
        transform: translate(140px, -60px) scale(1);
    }
    50% {
        opacity: 1;
        transform: translate(140px, -60px) scale(1.3);
    }
    100% {
        opacity: 0;
        transform: translate(140px, -60px) scale(0);
    }
}

@keyframes exponentsJumpOutRight {
    0% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1);
    }
    50% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1.3);
    }
    100% {
        opacity: 0;
        transform: translate(-70px, -60px) scale(0);
    }
}

/* Replacement numbers animations */
.replacement-numbers-jump-in-left {
    animation: replacementNumbersJumpInLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.replacement-numbers-jump-in-right {
    animation: replacementNumbersJumpInRight 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.replacement-numbers-fade-out-left {
    animation: replacementNumbersFadeOutLeft 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.replacement-numbers-fade-out-right {
    animation: replacementNumbersFadeOutRight 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes replacementNumbersJumpInLeft {
    0% {
        opacity: 0;
        transform: translate(140px, -60px) scale(0);
    }
    50% {
        opacity: 1;
        transform: translate(140px, -60px) scale(1.3);
    }
    100% {
        opacity: 1;
        transform: translate(140px, -60px) scale(1);
    }
}

@keyframes replacementNumbersJumpInRight {
    0% {
        opacity: 0;
        transform: translate(-70px, -60px) scale(0);
    }
    50% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1.3);
    }
    100% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1);
    }
}

@keyframes replacementNumbersFadeOutLeft {
    0% {
        opacity: 1;
        transform: translate(140px, -60px) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(165px, -60px) scale(1);
    }
}

@keyframes replacementNumbersFadeOutRight {
    0% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-95px, -60px) scale(1);
    }
}

/* Final result animations */
.final-multiplication-fade-out {
    animation: finalMultiplicationFadeOut 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.final-result-jump-in {
    animation: finalResultJumpIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.lcm-text-move-right {
    animation: lcmTextMoveRight 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes finalMultiplicationFadeOut {
    0% {
        opacity: 1;
        transform: translate(-7px, -60px) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-7px, -60px) scale(0);
    }
}

@keyframes finalResultJumpIn {
    0% {
        opacity: 0;
        transform: translate(-7px, -60px) scale(0);
    }
    50% {
        opacity: 1;
        transform: translate(-7px, -60px) scale(1.3);
    }
    100% {
        opacity: 1;
        transform: translate(-7px, -60px) scale(1);
    }
}

@keyframes lcmTextMoveRight {
    0% {
        transform: translate(-123px, -110px);
    }
    100% {
        transform: translate(-88px, -110px);
    }
}

/* Final elements jump out animations */
.final-elements-jump-out {
    animation: finalElementsJumpOut 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.final-elements-jump-out-left {
    animation: finalElementsJumpOutLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.final-elements-jump-out-right {
    animation: finalElementsJumpOutRight 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.final-elements-jump-out-center {
    animation: finalElementsJumpOutCenter 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes finalElementsJumpOut {
    0% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 1;
        transform: scale(1.3);
    }
    100% {
        opacity: 0;
        transform: scale(0);
    }
}

@keyframes finalElementsJumpOutCenter {
    0% {
        opacity: 1;
        transform: translate(-7px, -60px) scale(1);
    }
    50% {
        opacity: 1;
        transform: translate(-7px, -60px) scale(1.3);
    }
    100% {
        opacity: 0;
        transform: translate(-7px, -60px) scale(0);
    }
}

@keyframes finalElementsJumpOutLeft {
    0% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1);
    }
    50% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1.3);
    }
    100% {
        opacity: 0;
        transform: translate(-70px, -60px) scale(0);
    }
}

@keyframes finalElementsJumpOutRight {
    0% {
        opacity: 1;
        transform: translate(70px, -60px) scale(1);
    }
    50% {
        opacity: 1;
        transform: translate(70px, -60px) scale(1.3);
    }
    100% {
        opacity: 0;
        transform: translate(70px, -60px) scale(0);
    }
}

/* Red elements jump in animations */
.red-elements-jump-in {
    animation: redElementsJumpIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.red-elements-jump-in-left {
    animation: redElementsJumpInLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.red-elements-jump-in-right {
    animation: redElementsJumpInRight 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes redElementsJumpIn {
    0% {
        opacity: 0;
        transform: scale(0);
    }
    50% {
        opacity: 1;
        transform: scale(1.3);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes redElementsJumpInLeft {
    0% {
        opacity: 0;
        transform: translate(-70px, -60px) scale(0);
    }
    50% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1.3);
    }
    100% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1);
    }
}

@keyframes redElementsJumpInRight {
    0% {
        opacity: 0;
        transform: translate(70px, -60px) scale(0);
    }
    50% {
        opacity: 1;
        transform: translate(70px, -60px) scale(1.3);
    }
    100% {
        opacity: 1;
        transform: translate(70px, -60px) scale(1);
    }
}

/* Speech Bubble Styles */
.flexi-wave-bottom-left {
    position: absolute;
    left: 0.4rem;
    bottom: 18px;
    width: 70px;
    max-width: 70px;
    min-width: 40px;
    width: 5rem;
    height: auto;
    z-index: 2;
    pointer-events: none;
}

.flexi-wave-bubble-container {
    position: absolute;
    left: 0;
    bottom: 0;
    display: flex;
    align-items: flex-end;
    z-index: 3;
}

.speech-bubble {
    position: relative;
    margin-left: 5rem;
    margin-right: 1rem;
    margin-bottom: 70px;
    background: #fff;
    border-radius: 18px;
    padding: 7px 13px;
    font-size: 0.95rem;
    color: #222;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    min-width: 160px;
    max-width: 90vw;
    word-break: break-word;
}

.speech-bubble:after {
    content: '';
    position: absolute;
    left: -18px;
    bottom: 16px;
    width: 0;
    height: 0;
    border-top: 12px solid transparent;
    border-bottom: 12px solid transparent;
    border-right: 18px solid #fff;
    filter: drop-shadow(-2px 2px 2px rgba(0,0,0,0.08));
}

.flexi-telescope-fade-in {
    animation: flexiFadeIn 0.6s ease-in-out;
}

.speech-bubble-fade-in {
    animation: speechBubbleFadeIn 0.5s ease-in-out 0.2s both;
}

.flexi-first-step-fade-out {
    animation: flexiFirstStepFadeOut 0.2s cubic-bezier(0.4, 0.2, 0.2, 1) forwards;
}

@keyframes flexiFadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes speechBubbleFadeIn {
    from {
        opacity: 0;
        transform: translateX(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes flexiFirstStepFadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-10px);
    }
}

/* Small screen positioning classes */
.small-screen-position {
    transform: translate(35px, -60px) translateX(-100%) !important;
}

.small-screen-position.number-move-right,
.small-screen-position.main-numbers-move-down-right {
    transform: translate(35px, -60px) translateX(-100%) !important;
}

.small-screen-prime {
    transform: translate(40px, -60px) translateX(-100%) !important;
}

.small-screen-multiplication {
    transform: translate(35px, -60px) translateX(-100%) !important;
}

.small-screen-line-left {
    transform: translate(35px, -60px) translateX(-100%) skewX(-30deg) !important;
}

.small-screen-line-right {
    transform: translate(35px, -60px) translateX(-100%) skewX(30deg) !important;
}

/* Remove scroll bars from number inputs */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type="number"] {
    -moz-appearance: textfield;
}

/* LCM text movement animations */
.lcm-text-move-down {
    animation: lcmTextMoveDown 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.lcm-answer-move-down {
    animation: lcmAnswerMoveDown 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes lcmTextMoveDown {
    0% {
        transform: translateX(-50%) translate(-88px, -110px);
    }
    100% {
        transform: translateX(-50%) translate(-88px, 5px);
    }
}

@keyframes lcmAnswerMoveDown {
    0% {
        transform: translate(-23px, -60px);
    }
    100% {
        transform: translate(-23px, 55px);
    }
}

/* Input animations */
.input-one-jump-out {
    animation: inputOneJumpOut 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.input-two-jump-out {
    animation: inputTwoJumpOut 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.purple-text-jump-in {
    animation: purpleTextJumpIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes inputOneJumpOut {
    0% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1);
    }
    50% {
        opacity: 1;
        transform: translate(-70px, -60px) scale(1.3);
    }
    100% {
        opacity: 0;
        transform: translate(-70px, -60px) scale(0);
    }
}

@keyframes inputTwoJumpOut {
    0% {
        opacity: 1;
        transform: translate(70px, -60px) scale(1);
    }
    50% {
        opacity: 1;
        transform: translate(70px, -60px) scale(1.3);
    }
    100% {
        opacity: 0;
        transform: translate(70px, -60px) scale(0);
    }
}

@keyframes purpleTextJumpIn {
    0% {
        opacity: 0;
        transform: scale(0);
    }
    50% {
        opacity: 1;
        transform: scale(1.3);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

/* Factor tree styles */
.factor-tree-container {
    position: relative;
    min-height: 300px;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 20px;
}

.tree-node {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    transition: all 0.3s ease;
}

.tree-node.root {
    font-size: 2.25rem;
    color: black;
}

.tree-node.prime {
    font-size: 1.5rem;
    color: #5750E3;
}

.tree-node.non-prime {
    font-size: 1.5rem;
    color: #5750E3;
}

.node-animate {
    animation: nodeAppear 0.3s ease-out forwards;
}

@keyframes nodeAppear {
    from {
        opacity: 0;
        transform: scale(0.5);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.move-lcm-texts-down {
    animation: moveLcmTextsDown 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

